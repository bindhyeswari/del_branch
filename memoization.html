<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>

        // Factorial calculation using memoization

        function factorial (num) {
            if ( num <= 1 ) return 1;
            else return num * factorial(num - 1);
        }

        factorial_memoized.cache = {};

        // fix this
        factorial_memoized.cache = {};
        function factorial_memoized(x) {

            if (x in factorial_memoized.cache) return factorial_memoized.cache[x];
            else {
                if (x < 2) return 1;
                else {
                    factorial_memoized.cache[x] = x * factorial_memoized(x-1);
                    return factorial_memoized.cache[x];
                }

            }
        }

        function memoize(fn) {

            // arguments object
            // cache property
            // .apply

            return function () {
                fn.cache || (fn.cache = {});
                var x = arguments[0];

                if (typeof fn.cache[x] !== 'undefined') {
                    fn.cache[x] = fn.apply(null, arguments);
                }
                return fn.cache[x];

            }
        }

        var fact_memoized = memoize(factorial);

        console.log(factorial(10));
        console.log(factorial_memoized(10));



    </script>
</head>
<body>

</body>
</html>